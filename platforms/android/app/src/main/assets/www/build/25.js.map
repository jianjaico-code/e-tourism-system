{"version":3,"sources":["../../src/pages/businessman-message/businessman-message.module.ts","../../src/pages/businessman-message/businessman-message.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BusinessmanMessagePage } from './businessman-message';\n\n@NgModule({\n  declarations: [\n    BusinessmanMessagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BusinessmanMessagePage),\n  ],\n})\nexport class BusinessmanMessagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/businessman-message/businessman-message.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-businessman-message',\n  templateUrl: 'businessman-message.html',\n})\nexport class BusinessmanMessagePage {\n\n  key;\n  recepient;\n  loadedRec;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public afAuth: AngularFireAuth, public modalCtrl: ModalController, public alertCtrl: AlertController) {\n    this.key = afAuth.auth.currentUser.uid;\n    this.getMessageRecepient()\n  }\n\n  getMessageRecepient(){\n    let ref = firebase.database().ref('message/' + this.key);\n    ref.on('value', data => {\n      let arr = [];\n      data.forEach(data => {\n        arr.push(data.key);\n        console.log(data.key);\n      });\n      this.recepient = arr;\n      this.loadedRec = arr;\n      console.log(this.recepient);\n    });\n  }\n\n  pushChat(key){\n    let modal = this.modalCtrl.create('MessageTouristFromBusinessmanPage', {key: key, businessman: this.key});\n    modal.present();\n  }\n\n  delete(key){\n    let ref = firebase.database().ref('message/'+ this.key+'/' + key);\n    let alert = this.alertCtrl.create({\n      message: 'Are you sure you want to delete this message?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel Clicked');\n          }\n        },\n        {\n          text: 'Yes',\n          handler: () => { \n             ref.remove();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  messageAdmin(){\n    let modal = this.modalCtrl.create('TouristMessagePage');\n    modal.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/businessman-message/businessman-message.ts"],"sourceRoot":""}