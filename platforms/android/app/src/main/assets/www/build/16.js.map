{"version":3,"sources":["../../src/pages/message-list/message-list.module.ts","../../src/pages/message-list/message-list.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MessageListPage } from './message-list';\n\n@NgModule({\n  declarations: [\n    MessageListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MessageListPage),\n  ],\n})\nexport class MessageListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message-list/message-list.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, Content, AlertController } from 'ionic-angular';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-message-list',\n  templateUrl: 'message-list.html',\n})\nexport class MessageListPage {\n\n  public items: any[] = [];\n\n  recepient: Array<any>;\n  message;\n  chat;;\n  senderEmail;\n  key;\n\n  constructor(public navCtrl: NavController, private alertCtrl: AlertController, private afAuth: AngularFireAuth, public navParams: NavParams, public modalCtrl: ModalController) {\n    this.senderEmail = this.afAuth.auth.currentUser.email;\n    this.getMessageRecepient();\n   \n    setInterval(() => {\n      this.getMessageRecepient();\n    },10000); \n\n    setTimeout(() => {\n      for (let i = 0; i < 100; i++) {\n        this.items[i] = i\n      }\n    }, 300);\n  }\n\n  callFunction(){\n    let element = document.getElementById(\"messageBox\");\n    element.scrollTop = element.scrollHeight - element.clientHeight;\n  }\n\n  getMessageRecepient(){\n    let ref = firebase.database().ref('user');\n    let normalRec = firebase.database().ref('message/' + this.afAuth.auth.currentUser.uid);\n    let adminRec = firebase.database().ref('message/Admin/');\n    let adminMessageLog = firebase.database().ref('message log');\n    \n    ref.once('value', user => {\n      user.forEach(user => {\n        if(user.key == this.afAuth.auth.currentUser.uid){\n\n          if(user.val().usertypeid == 2){\n            let arr = [];\n            normalRec.once('value', recepient => {\n              recepient.forEach(recepient => {\n                let last = recepient.val()[Object.keys(recepient.val())[Object.keys(recepient.val()).length - 1]];\n                let dateData = new Date(last.date);\n                let dateDMY = dateData.getMonth()+1 + \"/\" + dateData.getDate() + \"/\" + dateData.getFullYear();\n                let hours = dateData.getHours();\n                let ampm = hours >= 12 ? 'pm' : 'am';\n                hours = hours % 12;\n                hours = hours ? hours : 12; \n                var strTime = hours + ':' + (dateData.getMinutes()<10?'0':'') + dateData.getMinutes()  + ' ' + ampm;\n                \n                ref.once('value', user => {\n                  user.forEach(user => {\n                    if(recepient.key == user.key){\n                      arr.push({\n                        image: user.val().profilePicUrl,\n                        name: user.val().name,\n                        userType: user.val().usertypeid,\n                        key: user.key,\n                        date: dateDMY,\n                        lastEmail: last.email,\n                        time: strTime,\n                      });\n\n                      arr.sort(function(a,b){\n                        let data = new Date(b.date + \" \"+b.time).getTime();\n                        let data2 = new Date(a.date + \" \"+a.time).getTime();\n                        return data - data2;  \n                      });\n                    }\n                  });\n                });\n              });\n              this.recepient = arr;\n            });\n          }\n\n          else if(user.val().usertypeid == 3){\n            let myKey = [];\n            let myLog = [];\n            let arr = [];\n            adminRec.once('value', recepient => {\n              recepient.forEach(recepient => {\n                myKey.push(recepient.key);\n              });\n              adminMessageLog.once('value', log => {\n                log.forEach(log => {\n                  myKey.forEach(key => {\n                    if(log.key == key){\n                      myLog.push(log.val());\n                    }\n                  });\n                });\n                ref.once('value', user => {\n                  user.forEach(user => {\n                    myKey.forEach(key => {\n                      if(user.key == key){\n                        myLog.forEach(log => {\n                          if(log.key == key){\n                            let last = recepient.val()[Object.keys(recepient.val())[Object.keys(recepient.val()).length - 1]];\n                            let dateData = new Date(log.date);\n                            let dateDMY = dateData.getMonth()+1 + \"/\" + dateData.getDate() + \"/\" + dateData.getFullYear();\n                            let hours = dateData.getHours();\n                            let ampm = hours >= 12 ? 'pm' : 'am';\n                            hours = hours % 12;\n                            hours = hours ? hours : 12; \n                            var strTime = hours + ':' + (dateData.getMinutes()<10?'0':'') + dateData.getMinutes()  + ' ' + ampm;\n              \n                            arr.push({\n                              image: user.val().profilePicUrl,\n                              name: user.val().name,\n                              userType: user.val().usertypeid,\n                              key: user.key,\n                              date: dateDMY,\n                              time: strTime,\n                              status: log.status\n                            });\n\n                            arr.sort(function(a,b){\n                              let data = new Date(b.date + \" \"+b.time).getTime();\n                              let data2 = new Date(a.date + \" \"+a.time).getTime();\n                              return data - data2;  \n                            });\n                          }\n                        });\n                      }\n                    });\n                  });\n                  this.recepient = arr;\n                });\n              });\n            });\n          }\n        }\n      });\n    });\n  }\n\n  pushChat(key){\n    let ref = firebase.database().ref('user');\n    ref.on('value', data => {\n      data.forEach(data => {\n        if(data.key == this.afAuth.auth.currentUser.uid){\n          \n          if(data.val().usertypeid == 2){\n            this.key = key;\n            let ref = firebase.database().ref('message/'+ this.afAuth.auth.currentUser.uid + '/' + key);\n            ref.on('value', data => {\n              let arr = [];\n              data.forEach(data => {\n                arr.push(data.val());\n              });\n              this.chat = arr;\n            });\n          }\n\n          else if(data.val().usertypeid == 3){\n            this.key = key;\n            let ref = firebase.database().ref('message/Admin/' + key);\n            ref.on('value', data => {\n              let arr = [];\n              data.forEach(data => {\n                arr.push(data.val());\n              });\n              this.chat = arr;\n            });\n          }\n\n        }\n      });\n    });\n  }\n\n  // addMessage(){\n  //   let alert = this.alertCtrl.create({\n  //     message: 'Send To:',\n  //     inputs: [\n  //       {\n  //         name: 'email',\n  //         placeholder: 'Email'\n  //       }\n  //     ],\n  //     buttons: [\n  //       {\n  //         text: 'Cancel',\n  //         role: 'cancel',\n  //         handler: data => {\n  //           console.log('Cancel clicked');\n  //         }\n  //       },\n  //       {\n  //         text: 'Send',\n  //         handler: element => {\n  //           let userRef = firebase.database().ref('user/');\n  //           userRef.on('value', data => {\n  //             data.forEach(data => {\n  //               if(data.val().email == element.email){\n  //                 this.userData = data.val();\n  //                 this.key = data.key;\n  //                 let ref = firebase.database().ref('message/Admin/' + this.key);\n  //                 ref.push({\n  //                   email: this.senderEmail,\n  //                   message: \"Hello, this is an automated message. If you have some problem, please message an admin so that we can help you. Enjoy Gingoog City. \",\n  //                   date: Date(),\n  //                   usertypeid: this.userData.usertypeid\n  //                 });\n  //               }\n  //             });\n  //           });\n  //         }\n  //       }\n  //     ]\n  //   });\n  //   alert.present();\n  // }\n\n  // delete(key){\n  //   let ref = firebase.database().ref('message/Admin/' + key);\n  //   let alert = this.alertCtrl.create({\n  //     message: 'Are you sure you want to delete this message?',\n  //     buttons: [\n  //       {\n  //         text: 'Cancel',\n  //         role: 'cancel',\n  //         handler: () => {\n  //           console.log('Cancel Clicked');\n  //         }\n  //       },\n  //       {\n  //         text: 'Yes',\n  //         handler: () => { \n  //            ref.remove();\n  //         }\n  //       }\n  //     ]\n  //   });\n  //   alert.present();\n  // }\n\n  sendMessage(){\n    if(!this.message || this.message.length === 0 || /^\\s*$/.test(this.message)){\n      let alert = this.alertCtrl.create({\n        message: \"Empty\",\n        buttons: [\n          {\n            text: \"Ok\",\n            role: 'cancel'\n          }\n        ]\n      });\n      alert.present();\n    }\n    else{\n      let ref = firebase.database().ref('user');\n      ref.on('value', user => {\n        user.forEach(user => {\n          if(user.key == this.afAuth.auth.currentUser.uid){\n\n            if(user.val().usertypeid == 2){\n              let ref = firebase.database().ref('message/'+ this.afAuth.auth.currentUser.uid + '/' + this.key);\n              let TML = firebase.database().ref('Tourist-Message-Log/' + this.key + '/' + this.afAuth.auth.currentUser.uid );\n              ref.push({\n                email: this.senderEmail,\n                message: this.message,\n                date: Date(),\n                usertypeid: user.val().usertypeid\n              });\n              TML.set({\n                key:  this.afAuth.auth.currentUser.uid,\n                time: Date(),\n                status: true,\n                myKey: this.key\n              });\n            \n            }\n\n            else if(user.val().usertypeid == 3){\n              let ref = firebase.database().ref('message/Admin/' + this.key);\n              let messageLog = firebase.database().ref('message log/' + this.key);\n\n              ref.push({\n                email: this.senderEmail,\n                message: this.message,\n                date: Date(),\n                usertypeid: user.val().usertypeid\n              }).then(() => {\n                messageLog.set({\n                  status: true,\n                  key: this.key,\n                  date: Date()\n                });\n                this.getMessageRecepient();\n              });\n            }\n\n          }\n        });\n      });\n    }\n    this.message = \"\";\n    this.getMessageRecepient();\n   }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message-list/message-list.ts"],"sourceRoot":""}