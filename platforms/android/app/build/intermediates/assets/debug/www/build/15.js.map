{"version":3,"sources":["../../src/pages/news/news.module.ts","../../src/pages/news/news.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewsPage } from './news';\n\n@NgModule({\n  declarations: [\n    NewsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewsPage),\n  ],\n})\nexport class NewsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/news/news.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ModalController } from 'ionic-angular';\nimport * as firebase from 'firebase';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-news',\n  templateUrl: 'news.html',\n})\nexport class NewsPage {\n\n  data: Array<any>;\n  loadedEst: Array<any>\n\n  constructor(public navCtrl: NavController, public modalCrtl: ModalController, public navParams: NavParams, public alertCtrl: AlertController) {\n    this.checkNews();\n  }\n\n  addNews(){\n    let modal = this.modalCrtl.create('AddNewsPage');\n    modal.present();\n  }\n\n  checkNews(){\n    let ref = firebase.database().ref('postNews');\n    ref.on('value', data => {\n      let arr = [];\n      data.forEach(data => {\n        let strDate = data.val().date;\n        let date = strDate.substring(0, 10);\n        arr.push({\n          key: data.key,\n          date: date,\n          title: data.val().title,\n          name: data.val().name,\n          image: data.val().image,\n          description: data.val().description,\n        });\n        return false;\n      });\n      this.data = arr.reverse();\n      this.loadedEst = arr;\n    });\n  }\n\n  initializeItem(): void{\n    this.data = this.loadedEst;\n  }\n\n  getItems(searchbar){\n    this.initializeItem();\n    let q = searchbar.srcElement.value;\n\n    if(!q){\n      return;\n    }\n\n    this.data = this.data.filter(data =>{\n      if(data.title && q){\n        if(data.title.toLowerCase().indexOf(q.toLowerCase()) > -1){\n          return true;\n        }\n        return false;\n      }\n    });\n    console.log(q, this.data.length);\n  }\n\n  update(key){\n    let modal = this.modalCrtl.create('EditNewsPage', {key: key});\n    modal.present();\n  }\n\n  remove(key){\n    let ref = firebase.database().ref('postNews/' + key);\n    let alert = this.alertCtrl.create({\n      message: 'Are you sure you want to REMOVE this Post?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Yes',\n          handler: () => { \n             ref.remove();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/news/news.ts"],"sourceRoot":""}