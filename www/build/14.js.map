{"version":3,"sources":["../../src/pages/places/places.module.ts","../../src/pages/places/places.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PlacesPage } from './places';\n\n@NgModule({\n  declarations: [\n    PlacesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PlacesPage),\n  ],\n})\nexport class PlacesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/places/places.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, AlertController } from 'ionic-angular';\nimport * as firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-places',\n  templateUrl: 'places.html',\n})\nexport class PlacesPage {\n\n  establishments: Array<any>;\n  loadedEst: Array<any>\n\n  constructor(public navCtrl: NavController, public alertCtrl: AlertController, public viewCtrl: ViewController,  public modalCtrl: ModalController, public navParams: NavParams) {\n    this.checkEstablishment();\n  }\n\n  addEstablishment(){\n    let alert = this.alertCtrl.create({\n      message: 'Choose Type',\n      buttons: [\n        {\n          text: 'Establishment',\n          handler: () =>{\n            console.log(\"Establishment\");\n            let modal = this.modalCtrl.create('AddEstablishmentPage', {key: true});\n            modal.present();\n          }\n        },\n        {\n          text: 'Landmark',\n          handler: () =>{\n            let modal = this.modalCtrl.create('AddEstablishmentPage', {key: false});\n            modal.present(); \n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  addService(key){\n    let modal = this.modalCtrl.create('AddServicePage', {key: key});\n    modal.present();\n  }\n\n  addProduct(key){\n    let modal = this.modalCtrl.create('AddProductPage', {key: key});\n    modal.present();\n  }\n\n  checkEstablishment(){\n    let ref = firebase.database().ref('establishment');\n    ref.on('value', data => {\n      let tmp = [];\n      data.forEach(data => {\n        tmp.push({\n          key: data.key,\n          name: data.val().name,\n          address: data.val().address,\n          peopleRated: data.val().peopleRated,\n          averageRate: data.val().averageRate,\n          description: data.val().description,\n          latitude: data.val().latitude,\n          longitude: data.val().longitude,\n          imageurl: data.val().images,\n          status: data.val().status,\n          userEmail: data.val().userEmail,\n          category: data.val().category,\n          userType: data.val().userType,\n          website: data.val().website\n        });\n      });\n      this.establishments = tmp;\n      this.loadedEst = tmp;\n      console.log(this.establishments);\n    });\n  }\n\n  initializeItem(): void{\n    this.establishments = this.loadedEst;\n  }\n\n  getItems(searchbar){\n    this.initializeItem();\n    let q = searchbar.srcElement.value;\n\n    if(!q){\n      return;\n    }\n\n    this.establishments = this.establishments.filter(data =>{\n      if(data.name && q){\n        if(data.name.toLowerCase().indexOf(q.toLowerCase()) > -1){\n          return true;\n        }\n        return false;\n      }\n    });\n    console.log(q, this.establishments.length);\n  }\n\n  update(key){\n    let modal = this.modalCtrl.create('EditEstablishmentPage', {key: key, userRestriction: false});\n    modal.present();\n  }\n\n  rating(key){\n    let modal = this.modalCtrl.create('EditRatingPage', key);\n    modal.present();\n  }\n\n  remove(key){\n    let ref = firebase.database().ref('establishment/' + key);\n    ref.remove(); \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/places/places.ts"],"sourceRoot":""}